<div class="container">
  <nb-card status="info">
    <nb-card-header>
      <nb-icon icon="person" class="mr-1"></nb-icon>
      User Information
    </nb-card-header>
    <nb-card-body>
      <div class="row">
        <div class="col">
          <p>First Name: <strong>{{user?.fname}}</strong></p>
          <p>Last Name: <strong>{{user?.lname}}</strong></p>
          <p>Username: <strong>{{user?.userName}}</strong></p>
          <p>Email: <strong>{{user?.email}}</strong></p>
        </div>
        <div class="col">
          <p>Status: <strong>{{user?.status}}</strong></p>
          <p>User Enabled: <strong>{{user?.userEnabled}}</strong></p>
          <p>Last Login: <strong>{{user?.lastLogin | date:'medium'}}</strong></p>
          <p>User Bypass: <strong>{{user?.userInBypass}}</strong></p>
        </div>
      </div>
    </nb-card-body>
  </nb-card>

  <nb-card status="info">
    <nb-card-header>
      <nb-icon icon="smartphone" class="mr-1"></nb-icon>
      My Device List
    </nb-card-header>
    <nb-card-body>
          <table class="table">
            <thead>
            <tr>
              <th scope="col">Device Name</th>
              <th scope="col">Role</th>
              <th scope="col">Device Type</th>
              <th scope="col">Enrollment</th>
              <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let deviceDetail of deviceList">
              <th scope="row">{{deviceDetail?.nickname}}</th>
              <td>{{deviceDetail?.deviceRole}}</td>
              <td>{{deviceDetail?.type}}</td>
              <td>{{deviceDetail?.enrollment}}</td>
              <td><nb-icon icon="trash" class="action-icon" (click)="unpairDevice(deviceDetail)"></nb-icon></td>
            </tr>
            </tbody>
          </table>
      <button nbButton outline status="info" (click)="getActivationCode('MOBILE')" class="mr-1">Register Device</button>
      <button nbButton outline status="success" (click)="testMFA()" class="mr-1" [disabled]="!deviceList">Test MFA</button>
      <nb-alert *ngIf="mfaTriggered" status="warning" class="mt-3">MFA triggered. Please check your device...</nb-alert>
      <nb-alert *ngIf="mfaApproved" status="success" class="mt-3">MFA Approved.</nb-alert>
      <nb-alert *ngIf="mfaRejected" status="danger" class="mt-3">MFA Rejected.</nb-alert>
    </nb-card-body>
  </nb-card>
</div>
